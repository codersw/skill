<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.skill.server.mapper.ParentinfoMapper">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.skill.server.entity.pojo.Parentinfo">
        <id column="parentid" property="parentid"/>
        <result column="nickname" property="nickname"/>
        <result column="phonenumber" property="phonenumber"/>
        <result column="openid" property="openid"/>
        <result column="unionid" property="unionid"/>
        <result column="ctime" property="ctime"/>
        <result column="account" property="account"/>
        <result column="password" property="password"/>
        <result column="pushid" property="pushid"/>
        <result column="relationship" property="relationship"/>
        <result column="paypassword" property="paypassword"/>
        <result column="pphoto" property="pphoto"/>
        <result column="parentbalance" property="parentbalance"/>
        <result column="type" property="type"/>
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        parentid
        , nickname, phonenumber, openid, unionid, ctime, account, password, pushid, relationship, paypassword, pphoto, parentbalance, type
    </sql>

    <select id="getParentListByStudentId" resultMap="BaseResultMap">
        select cp.*
        from ck_parentinfo cp
        left join ck_student_parent csp on cp.parentid = csp.parentid
        <where>
            csp.studentid = #{studentId}
        </where>
    </select>

</mapper>
